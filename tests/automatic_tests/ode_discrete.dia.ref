 
getf SCI/util/testexamples.sci
 
reinit_for_test()
 
%U=mopen('SCI/tests/automatic_tests/ode_discrete_data.ref','rb');
 
y1 = [1;2;3];%ans = deff('yp=a_function(k,y)', 'yp=A*y+B*u(k)');
 
if load_ref('%ans') then   bugmes();quit;end,
 
 
A = diag([0.2,0.5,0.9]);B = [1;1;1];u = 1:10;n = 5;
 
y = ode('discrete', y1, 1, 1:n, a_function);
 
%ans = y(:, 2) - (A * y1 + B * u(1));
 
if load_ref('%ans') then   bugmes();quit;end,
 
 
// Now y evaluates  at [y3,y5,y7,y9]
 
y = ode('discrete', y1, 1, 3:2:9, a_function);
 
if load_ref('y') then   bugmes();quit;end,
 
 
xdel_run(winsid());
 
 
mclose(%U);
 
