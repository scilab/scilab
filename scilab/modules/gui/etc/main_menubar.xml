<?xml version="1.0"?>
<menubar>

   <!-- All "main" menus are disabled when created and then enabled in scilab.start file after all macros are loaded -->
   <!-- The accelerator can be "control shift A" or "control A" or "meta A" or "OSSCKEY A" where oskey means "OS ShortCut key"
	and is replaced by the good key (control for Unix/Windows OS and meta for Mac) -->
 
   <!-- File menu -->
   <menu label="&amp;File" enabled="false">
        <submenu label="&amp;Execute..." accelerator="OSSCKEY E">
            <callback
            instruction='
              %fileToExec = uigetfile("*.sc*", "", gettext("Select a file to execute"));
              if ~(%fileToExec == "") then
                exec(%fileToExec);
                disp(msprintf(gettext("Execution done.\n")));
              end
              clear("%fileToExec");'
            type="0"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Open a file..." accelerator="OSSCKEY O">
            <callback
            instruction='
              %fileToOpen = uigetfile("*.sc*", "", gettext("Select a file to open with SciNotes"));
              if ~(%fileToOpen == "") then
                editor(%fileToOpen);
              end
              clear("%fileToOpen");'
            type="0"/>
        </submenu>
        <submenu label="&amp;Load environment..." accelerator="OSSCKEY L">
            <callback
            instruction='
              %fileToLoad = uigetfile("*.sav", "", gettext("Select a file to load"));
              if ~(%fileToLoad == "") then
                load(%fileToLoad);
                disp(msprintf(gettext("Environment loaded.\n")));
              end
              clear("%fileToLoad");'
            type="0"/>
        </submenu>
        <submenu label="&amp;Save environment..." accelerator="OSSCKEY S">
            <callback
            instruction='
              %fileToSave = uiputfile("*.sav", "", gettext("Select a file to write"));
              if ~(%fileToSave == "") then
                if (fileparts(%fileToSave, "extension") == "") then
                  %fileToSave = %fileToSave + ".sav";
                end
                save(%fileToSave);
                disp(msprintf(gettext("Environment saved.\n")));
              end
              clear("%fileToSave");'
            type="0"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Change current directory...">
            <callback
            instruction='
              %newDir = uigetdir(pwd(), gettext("Select a directory"));
              if ~(%newDir == "") then
                cd(%newDir);
              end
              clear("%newDir");'
            type="0"/>
        </submenu>
        <submenu label="&amp;Display current directory">
            <callback instruction='if iswaitingforinput() then printf("\n%s\n\n%s\n",prompt(),pwd()); else printf("\n\n%s\n\n",pwd());end' type="0"/>
        </submenu>
        <separator/>
        <submenu label="P&amp;age setup...">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.pageSetup' type="3"/>
        </submenu>
        <submenu label="&amp;Print..." accelerator="OSSCKEY P">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.printConsoleContents' type="3"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Quit" accelerator="OSSCKEY Q">
            <callback instruction='exit();' type="0"/>
        </submenu>
    </menu>

    <!-- Edit menu -->
    <menu label="&amp;Edit" enabled="false">
        <submenu label="C&amp;ut" accelerator="OSSCKEY X">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.cutConsoleSelection' type="3"/>
        </submenu>
        <submenu label="&amp;Copy" accelerator="OSSCKEY C">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.copyConsoleSelection' type="3"/>
        </submenu>
        <submenu label="&amp;Paste" accelerator="OSSCKEY V">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.pasteClipboardIntoConsole' type="3"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Empty clipboard">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.emptyClipboard' type="3"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Select all" accelerator="OSSCKEY A">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.selectAllConsoleContents' type="3"/>
        </submenu>
    </menu>

    <!-- Preferences menu -->
    <menu label="&amp;Preferences" enabled="false">
        <submenu label="&amp;Colors">
            <submenu label="Console &amp;Background...">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.changeConsoleBackground' type="3"/>
            </submenu>
            <submenu label="Console &amp;Font...">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.changeConsoleForeground' type="3"/>
            </submenu>
        </submenu>
        <submenu label="&amp;Font...">
            <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.changeConsoleFont' type="3"/>
        </submenu>
        <submenu label="Show/Hide &amp;Toolbar">
              <callback
              instruction='
                if toolbar(-1)=="on" then
                  toolbar(-1, "off");
                else
                  toolbar(-1, "on");
                end'
              type="0"/>
        </submenu>
        <separator/>
        <submenu label="Clear &amp;History">
           <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.clearHistory' type="3"/>
        </submenu>
        <submenu label="Clear C&amp;onsole">
          <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.clear' type="3"/>
        </submenu>
    </menu>

    <!-- Control menu -->
    <menu label="&amp;Control" enabled="false">
        <submenu label="&amp;Resume">
            <callback instruction='resume;' type="-2"/>
        </submenu>
        <submenu label="&amp;Abort">
            <callback instruction='abort;' type="-2"/>
        </submenu>
        <submenu label="&amp;Interrupt">
            <callback instruction='pause;' type="-2"/>
        </submenu>
    </menu>

    <!-- Applications menu -->
    <menu label="&amp;Applications" enabled="false">
        <submenu label="&amp;SciNotes">
            <callback instruction='editor();' type="0"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Xcos">
            <callback instruction='if with_module("xcos") then xcos(); else disp(gettext("Please install xcos module.")); end' type="0"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Matlab to Scilab translator">
            <callback instruction='if with_module("m2sci") then mfile2sci(); else disp(gettext("Please install m2sci module.")); end' type="0"/>
        </submenu>
        <separator/>
        <submenu label="M&amp;odule manager - ATOMS">
            <callback instruction='if with_module("atoms") then atomsGui(); else disp(gettext("Please install atoms module.")); end' type="0"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Variable Browser">
            <callback instruction='browsevar()' type="0"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Command History">
            <callback instruction='org.scilab.modules.history_browser.CommandHistory.toggleVisibility' type="3"/>
        </submenu>
    </menu>

    <!-- Help menu -->
    <menu label="&amp;?" enabled="false">
        <submenu label="Scilab &amp;Help" accelerator="F1">
            <callback instruction='help();' type="0"/>
        </submenu>
        <separator/>
        <submenu label="Scilab &amp;Demonstrations">
             <callback instruction='demo_gui();' type="0"/>
        </submenu>
        <separator/>
        <submenu label="&amp;Links">
            <submenu label="Scilab &amp;Web Site">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openScilabWebSite' type="3"/>
            </submenu>
            <separator/>
            <submenu label="Scilab &amp;Online Help">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openOnlineHelp' type="3"/>
            </submenu>
            <submenu label="Scilab &amp;Wiki">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openWiki' type="3"/>
            </submenu>
            <separator/>
            <submenu label="Scilab &amp;ATOMS Web Site">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openAtomsScilab' type="3"/>
            </submenu>
            <submenu label="&amp;File Exchange">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openFileExchange' type="3"/>
            </submenu>
            <submenu label="&amp;Mailing lists">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openMailingList' type="3"/>
            </submenu>
            <separator/>
            <submenu label="&amp;Forge">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openForge' type="3"/>
            </submenu>
            <submenu label="&amp;Bugs And Requests">
                <callback instruction='org.scilab.modules.gui.bridge.CallScilabBridge.openBugzilla' type="3"/>
            </submenu>
        </submenu>
        <separator/>
        <submenu label="&amp;About Scilab..." accelerator="shift F1">
              <callback instruction='about()' type="0"/>
        </submenu>
    </menu>
</menubar>
