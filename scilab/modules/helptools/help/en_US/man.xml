<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
 * Copyright (C) 2008 - INRIA
 * Copyright (C) 2010 - DIGITEO - Allan CORNET
 * 
 * This file must be used under the terms of the CeCILL.
 * This source file is licensed as described in the file COPYING, which
 * you should have received as part of this distribution.  The terms
 * are also available at    
 * http://www.cecill.info/licences/Licence_CeCILL_V2-en.txt
 *
 -->
<refentry version="5.0-subset Scilab" xml:id="man" xml:lang="en"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:ns4="http://www.w3.org/1999/xhtml"
          xmlns:mml="http://www.w3.org/1998/Math/MathML"
          xmlns:db="http://docbook.org/ns/docbook">
  <info>
    <pubdate>$LastChangedDate$</pubdate>
  </info>

  <refnamediv>
    <refname>man</refname>

    <refpurpose>on line help XML file description format</refpurpose>
  </refnamediv>

  <refsection>
    <title>Description</title>

    <para>The on line help source files are written in XML.</para>

    <para>Source files (with extension .xml) can be found in the
    <literal>&lt;SCIDIR&gt;/modules/&lt;MODULE
    NAME&gt;/help/&lt;language&gt;/*</literal> directories. The file name is
    usually associated to a keyword (corresponding to a function name most of
    the cases) it describes.</para>
  </refsection>

  <refsection>
    <title>A few words about XML</title>

    <para>An XML file resembles to an HTML file but with a more rigid syntax.
    The documentation of Scilab must be written using the strict subset of
    DocBook 5 defined in SCI/modules/helptools/schema/scilab.rnc. DocBook 5
    elements are fully documented in <ulink
    url="http://docbook.org/tdg5/en/html/docbook.html">"DocBook 5.0 : The
    Definitive Guide"</ulink></para>
  </refsection>

  <refsection>
    <title>How to write a simple xml scilab help page:</title>

    <para>If one want to write the xml file associated to a new scilab
    function he or she may use the Scilab function <link
    linkend="help_skeleton">help_skeleton</link> to produce the skeleton of
    the xml file. In most cases the user will not be required to know xml
    syntax.</para>
  </refsection>

  <refsection>
    <title>How to write a simple xml scilab help page: an example</title>

    <para>The root element of a document which conforms to the Scilab DocBook
    5 subset must have version attribute set to "5.0-subset Scilab".</para>

    <programlisting role="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;refentry version="5.0-subset Scilab" xml:id="foo" xml:lang="en"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:ns4="http://www.w3.org/1999/xhtml"
          xmlns:mml="http://www.w3.org/1998/Math/MathML"
          xmlns:db="http://docbook.org/ns/docbook"&gt; </programlisting>

    <refsection>
      <title>Example:</title>

      <programlisting role="example">function y = foo(a,b,c)
  y = a + 2 * b + c;
endfunction

path = help_skeleton('foo', TMPDIR)
if (isdef('editor') | (funptr('editor')&lt;&gt;0)) then
  editor(path);
end</programlisting>
    </refsection>

    <refsection>
      <title>Generated foo.xml in TMPDIR:</title>
    </refsection>

    <programlisting role="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!--
 * Add some comments about XML file
--&gt;
&lt;refentry version="5.0-subset Scilab" xml:id="foo" xml:lang="en"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:ns4="http://www.w3.org/1999/xhtml"
          xmlns:mml="http://www.w3.org/1998/Math/MathML"
          xmlns:db="http://docbook.org/ns/docbook"&gt;
  &lt;info&gt;
    &lt;pubdate&gt;$LastChangedDate: 29-11-2010 $&lt;/pubdate&gt;
  &lt;/info&gt;
  &lt;refnamediv&gt;
    &lt;refname&gt;foo&lt;/refname&gt;
    &lt;refpurpose&gt;Add short description here. &lt;/refpurpose&gt;
  &lt;/refnamediv&gt;
  &lt;refsynopsisdiv&gt;
    &lt;title&gt;Calling Sequence&lt;/title&gt;
    &lt;synopsis&gt;y = foo(a,b,c)&lt;/synopsis&gt;
  &lt;/refsynopsisdiv&gt;
  &lt;refsection&gt;
    &lt;title&gt;Parameters&lt;/title&gt;
    &lt;variablelist&gt;
      &lt;varlistentry&gt;
        &lt;term&gt;a&lt;/term&gt;
        &lt;listitem&gt;
          &lt;para&gt;
            Add here the parameter description.
          &lt;/para&gt;
        &lt;/listitem&gt;
      &lt;/varlistentry&gt;
      &lt;varlistentry&gt;
        &lt;term&gt;b&lt;/term&gt;
        &lt;listitem&gt;
          &lt;para&gt;
            Add here the parameter description.
          &lt;/para&gt;
        &lt;/listitem&gt;
      &lt;/varlistentry&gt;
      &lt;varlistentry&gt;
        &lt;term&gt;c&lt;/term&gt;
        &lt;listitem&gt;
          &lt;para&gt;
            Add here the parameter description.
          &lt;/para&gt;
        &lt;/listitem&gt;
      &lt;/varlistentry&gt;
      &lt;varlistentry&gt;
        &lt;term&gt;y&lt;/term&gt;
        &lt;listitem&gt;
          &lt;para&gt;
            Add here the parameter description.
          &lt;/para&gt;
        &lt;/listitem&gt;
      &lt;/varlistentry&gt;
    &lt;/variablelist&gt;
  &lt;/refsection&gt;
  &lt;refsection&gt;
    &lt;title&gt;Description&lt;/title&gt;
    &lt;para&gt;
          Add here a paragraph of the function description. 
          Other paragraph can be added 
    &lt;/para&gt;
  &lt;/refsection&gt;
  &lt;refsection&gt;
    &lt;title&gt;Examples&lt;/title&gt;
    &lt;programlisting role="example"&gt;&lt;![CDATA[
        Add here scilab instructions and comments
    ]]&gt;&lt;/programlisting&gt;
  &lt;/refsection&gt;
  &lt;refsection&gt;
    &lt;title&gt;See Also&lt;/title&gt;
    &lt;simplelist type="inline"&gt;
      &lt;member&gt;
        &lt;link linkend="add a reference name" &gt;add a reference&lt;/link&gt;
      &lt;/member&gt;
      &lt;member&gt;
        &lt;link linkend="add a reference name"&gt;add a reference&lt;/link&gt;
      &lt;/member&gt;
    &lt;/simplelist&gt;
  &lt;/refsection&gt;
  &lt;refsection&gt;
    &lt;title&gt;Authors&lt;/title&gt;
    &lt;simplelist type="vert"&gt;
      &lt;member&gt;add the author name and author reference&lt;/member&gt;
      &lt;member&gt;add another author name and it's reference&lt;/member&gt;
    &lt;/simplelist&gt;
  &lt;/refsection&gt;
  &lt;refsection&gt;
     &lt;title&gt;Bibliography&lt;/title&gt;
       &lt;para&gt;
         Add here the function bibliography
       &lt;/para&gt;
     &lt;/refsection&gt;
  &lt;refsection&gt;
     &lt;title&gt;Used Functions&lt;/title&gt;
       &lt;para&gt;
         Add here the Scilab, C,... used code references
       &lt;/para&gt;
     &lt;/refsection&gt;
&lt;/refentry&gt;</programlisting>
  </refsection>


  <refsection>
    <title>How to create an help chapter</title>

    <para>Create a directory and write down a set of xml files build as
    described above. Then start Scilab and execute <literal>xmltojar
    </literal> (see <link linkend="xmltojar">xmltojar</link> for more details)
    .</para>
  </refsection>

  <refsection>
    <title>How to make Scilab know a new help chapter</title>

    <para>This can be done by the function <link
    linkend="add_help_chapter">add_help_chapter</link>.</para>
  </refsection>
  <refsection role="see also">
<title>See Also</title>
    <simplelist type="inline">
      <member><link linkend="apropos">apropos</link></member>

      <member><link linkend="help">help</link></member>

      <member><link linkend="help_skeleton">help_skeleton</link></member>

      <member><link linkend="help_from_sci">help_from_sci</link></member>

      <member><link linkend="xmltojar">xmltojar</link></member>

      <member><link
      linkend="add_help_chapter">add_help_chapter</link></member>
    </simplelist>
  </refsection>
</refentry>
