<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>

<!--
 * Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
 * Copyright (C) 2008 - INRIA
 * 
 * This file must be used under the terms of the CeCILL.
 * This source file is licensed as described in the file COPYING, which
 * you should have received as part of this distribution.  The terms
 * are also available at    
 * http://www.cecill.info/licences/Licence_CeCILL_V2-en.txt
 *
 -->

<!DOCTYPE MAN SYSTEM "../../../../modules/helptools/help.dtd">
<MAN>
  <LANGUAGE>eng</LANGUAGE>
  <TITLE>graph_2_mat</TITLE>
  <TYPE>Scilab function</TYPE>
  <DATE>$LastChangedDate$</DATE>
  <SHORT_DESCRIPTION name="graph_2_mat"> node-arc or node-node incidence matrix of a graph</SHORT_DESCRIPTION>
  <CALLING_SEQUENCE>
    <CALLING_SEQUENCE_ITEM>a = graph_2_mat(g,mat)  </CALLING_SEQUENCE_ITEM>
  </CALLING_SEQUENCE>
  <PARAM>
    <PARAM_INDENT>
      <PARAM_ITEM>
        <PARAM_NAME>g</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>:  a <LINK>graph_data_structure</LINK>.</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>mat</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: optional string, 'node-arc' or 'node-node' matrix</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>a</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: sparse node-arc or node-node incidence matrix</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
    </PARAM_INDENT>
  </PARAM>
  <DESCRIPTION>
    <P><VERB>graph_2_mat</VERB> computes the node-arc or the node-node incidence matrix 
    corresponding
    to the graph <VERB>g</VERB>.</P>
    <P>
    If the optional argument <VERB>mat</VERB> is omitted or is the string 
    <VERB>'node-arc'</VERB>, the node-arc matrix is computed. If <VERB>mat</VERB> is the string
    <VERB>'node-node'</VERB>, the node-node matrix is computed.</P>
    <P>
    If <VERB>n</VERB> is the number of nodes of the graph and 
    <VERB>m</VERB> is the number of edges of the graph, the node-arc matrix is a Scilab 
    sparse matrix of size <VERB>(n,m)</VERB>.</P>
    <P>
    It is defined as follows. If the graph is directed:</P>
    <P><VERB>a(i,j) = +1</VERB> if node <VERB>i</VERB> is the tail of arc <VERB>j</VERB></P>
    <P><VERB>a(i,j) = -1</VERB> if node <VERB>i</VERB> is the head of arc <VERB>j</VERB></P>
    <P>
    If the graph is undirected:</P>
    <P><VERB>a(i,j) = 1</VERB> if node <VERB>i</VERB> is the tail or the head of arc <VERB>j</VERB></P>
    <P>
    If <VERB>n</VERB> is the number of nodes of the graph, the node-node matrix is a 
    Scilab sparse matrix of size <VERB>(n,n)</VERB>.</P>
    <P>
    It is defined as follows:</P>
    <P><VERB>a(i,j) = 1</VERB> if there is an arc from node <VERB>i</VERB> to node <VERB>j</VERB></P>
  </DESCRIPTION>
  <EXAMPLE>
<![CDATA[
ta = [10,3,6,2,3,7,6,9,5,10,8,2,5,8,4,9,1,8,9,4,7]
he = [3,6,10,6,2,6,9,7,3,5,2,5,8,4,9,8,4,1,2,7,10]
g=make_graph('foo',1,10,ta,he);
g.nodes.graphics.x = [398,333,212,312,132,208,46,445,301,69];
g.nodes.graphics.y = [54,217,179,12,245,133,95,283,92,170];
g.nodes.graphics.display='number';
show_graph(g);

a=graph_2_mat(g,'node-node');
a=[['' string(1:10)];[string(1:10)' string(full(a))]]

a=graph_2_mat(g);
string(full(a))'
 ]]>
  </EXAMPLE>
  <SEE_ALSO>
    <SEE_ALSO_ITEM>
      <LINK>mat_2_graph</LINK>
    </SEE_ALSO_ITEM>
  </SEE_ALSO>
</MAN>
