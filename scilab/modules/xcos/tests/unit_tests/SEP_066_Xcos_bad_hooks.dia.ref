// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) DIGITEO - 2010-2010 - Cl√©ment DAVID <clement.david@scilab.org>
//
// This file is distributed under the same license as the Scilab package.
// <-- ENGLISH IMPOSED -->
// <-- TEST WITH XCOS -->
//
// <-- Short Description -->
// Check the API of the Xcos hooks, see SEP_066_Xcos_hooks.odt
loadXcosLibs();
global status;
status = [];
function continueSimulation = pre_xcos_simulate(scs_m, needcompile)
  global status;
  1 + "string"
  status = [status 'pre_called'];
endfunction
function post_xcos_simulate(%cpr, scs_m, needcompile)
  global status;
  1 + "string"
  status = [status 'post_called'];
endfunction
assert_checktrue(importXcosDiagram(SCI + "/modules/xcos/demos/Simple_Demo.xcos"));
xcos_simulate(scs_m, 4);
 
 Error occurred in pre_xcos_simulate: Cancelling simulation.   
 at line 4 of function pre_xcos_simulate
assert_checkequal(status, [])
 ans  =
 
  T  
