<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
    * Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
    * Copyright (C) 2002-2004 - INRIA - Vincent COUVERT 
    * Copyright (C) ???? - INRIA - Serge STEER 
    * 
    * This file must be used under the terms of the CeCILL.
    * This source file is licensed as described in the file COPYING, which
    * you should have received as part of this distribution.  The terms
    * are also available at    
    * http://www.cecill.info/licences/Licence_CeCILL_V2-en.txt
    *
    -->
<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" version="5.0-subset Scilab" xml:lang="fr" xml:id="mfile2sci"><info><pubdate>$LastChangedDate$</pubdate></info><refnamediv><refname>mfile2sci</refname><refpurpose> Fonction de conversion de M-file Matlab vers Scilab</refpurpose></refnamediv>
  
  
  
  
  
  <refsynopsisdiv><title>Séquence d'appel</title><synopsis>mfile2sci(M-file-path [,result-path [,Recmode [,only-double [,verbose-mode [,prettyprint]]]]])</synopsis></refsynopsisdiv>
  <refsection><title>Paramètres</title>
    <variablelist>
      <varlistentry>
        <term>M-file-path</term>
        <listitem>
          <para>une chaï¿½ne de caractï¿½res qui donne le chemin du M-file ï¿½ traduire</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>result-path</term>
        <listitem>
          <para>une chaï¿½ne de caractï¿½res qui donne le rï¿½pertoire oï¿½ le rï¿½sultat sera ï¿½crit. La valeur par dï¿½fault est le rï¿½petoire courant.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Recmode</term>
        <listitem>
          <para>Flag boolï¿½en, utilisï¿½ par translatepaths pour une conversion rï¿½cursive. Doit ï¿½tre %F pour convertir un seul M-file. Valeur par dï¿½faut : %F</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>only-double</term>
        <listitem>
          <para>Flag boolï¿½en, si il vaut %T mfile2sci considï¿½re que les fonctions de calcul numï¿½riques ont ï¿½tï¿½ utilisï¿½es uniquement avec des donnï¿½es numï¿½riques (Aucune fonction de surcharge Scilab est requise). Valeur par dï¿½faut : %F</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>verbose-mode</term>
        <listitem>
          <para>mode d'affichage des information de conversion</para>
          <variablelist>
            <varlistentry>
              <term>0</term>
              <listitem>
                <para>aucune information donnï¿½e</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>1</term>
              <listitem>
                <para>les ionformations sont ï¿½crites comme commentaires du fichier Scilab</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>2</term>
              <listitem>
                <para>les ionformations sont ï¿½crites comme commentaires du fichier Scilab et dans le fichier log</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>3</term>
              <listitem>
                <para>les ionformations sont ï¿½crites comme commentaires du fichier Scilab, dans le fichier log et affichï¿½es dans la fenï¿½tre Scilab (Valeur par dï¿½faut).</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>prettyprint</term>
        <listitem>
          <para>Flag boolï¿½en, si il vaut %T le code gï¿½nï¿½rï¿½ est rï¿½arrangï¿½. Valeur par dï¿½faut : %F</para>
        </listitem>
      </varlistentry>
     </variablelist>
  </refsection>
  <refsection><title>Description</title>
    <para>
    M2SCI (et en particulier mfile2sci) est un ensemble d'outils de conversion de M-file vers Scilab. Il essaie
    ï¿½ chaque fois que c'est possible de remplacer l'appel ï¿½ une fonction Matlab par la
    primitive ou la fonction Scilab ï¿½quivalente.
  </para>
    <para>
    Pour convertir un M-file, entrer l'instruction Scilab :
    mfile2sci(fichier)
  </para>
    <para>
    oï¿½ fichier est une chaï¿½ne de caractï¿½re qui donne le chemin du M-file.
    mfile2sci va gï¿½nï¿½rer trois fichiers dans le mï¿½me rï¿½pertoire :
  </para>
    <variablelist>
      <varlistentry><term>&lt;function-name&gt;.sci</term><listitem>
        <para>l'ï¿½quivalent Scilab pour le M-file</para>
      </listitem></varlistentry>
      <varlistentry><term>&lt;function-name&gt;.cat</term><listitem>
        <para>le fichier d'aide Scilab associï¿½ ï¿½ la fonction</para>
      </listitem></varlistentry>
      <varlistentry><term>sci_&lt;function-name&gt;.sci</term><listitem>
        <para>la fonction Scilab requise pour convertir les appels ï¿½ ce M-file dans d'autres M-files. Cette fonction peut ï¿½tre amï¿½liorï¿½e "ï¿½ la main". Cette fonction est utile uniquement pour la conversion, pas pour utiliser la fonction convertie.</para>
      </listitem></varlistentry>
    </variablelist>
    <para>
    Des fonctions comme eye, ones, size, sum,... se comportent diffï¿½remment
    selon la dimension de leurs arguments. Quand mfile2sci ne peut pas 
    infï¿½rer les dimensions, il remplace ces fonctions par un appel ï¿½ une
    fonction d'ï¿½mulation nommï¿½e mtlb_&lt;function_name&gt;. Pour une meilleure ï¿½fficacitï¿½,
    ces fonctions peuvent ï¿½tre remplacï¿½es par les instructions Scilab ï¿½quivalentes.
    Pour avoir des informations sur le remplacement, entrer :
    help mtlb_&lt;function_name&gt; dans la fenï¿½tre de commande Scilab.
    </para>
    <para>
    D'autres fonctions comme plot, n'ont pas d'ï¿½quivalent direct en
    Scilab. Elles sont aussi remplacï¿½es par des fonctions d'ï¿½mulation nommï¿½es :
     mtlb_&lt;function_name&gt;.
    </para>
    <para>
    Quand la conversion peut ï¿½tre incorrecte ou amï¿½liorï¿½e, mfile2sci ajoute
    des commentaires qui commencent par "//!" (suivant verbose-mode).
  </para>
  <para>
  Un appel ï¿½ <literal>mfile2sci()</literal> sans rhs lance une interface graphique pour aider ï¿½ la sï¿½lection d'un fichier/rï¿½pertoire et des options.
  </para>
  </refsection>
  <refsection><title>Exemples</title><programlisting role="example"><![CDATA[

// Crï¿½ation d'une fichier .m simple
write(TMPDIR+'/rot90.m',['function B = rot90(A,k)'
 '[m,n] = size(A);'
 'if nargin == 1'
 '    k = 1;'
 'else'
 '    k = rem(k,4);'
 '    if k < 0'
 '        k = k + 4;'
 '    end'
 'end'
 'if k == 1'
 '    A = A.'';'
 '    B = A(n:-1:1,:);'
 'elseif k == 2'
 '    B = A(m:-1:1,n:-1:1);'
 'elseif k == 3'
 '    B = A(m:-1:1,:);'
 '    B = B.'';'
 'else'
 '    B = A;'
 'end']);
// Conversion en Scilab
mfile2sci(TMPDIR+'/rot90.m',TMPDIR)
// Affichage du code
write(%io(2),read(TMPDIR+'/rot90.sci',-1,1,'(a)'))
// get it into scilab
getf(TMPDIR+'/rot90.sci')
// Exï¿½cution du code
m=rand(4,2);rot90(m,1)
 
  ]]></programlisting></refsection>

  <refsection><title>Voir Aussi</title><simplelist type="inline">
    <member>
      <link linkend="translatepaths">translatepaths</link>
    </member>
  </simplelist></refsection>
  <refsection><title>Auteurs</title><simplelist type="vert">
    <member>V. Couvert</member>
    <member>S. Steer</member>
  </simplelist></refsection>
</refentry>