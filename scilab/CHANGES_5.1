               Changes between version 5.0.X and 5.1 of Scilab
               ===============================================

Tests:
======

* Tests added for functions: umf_luget, taucs_chget, pcg, removedir, rmdir, ones
* Added elementary functions: acosd acoth asecd asech asec asind
                       atand cosd cotd cscd csc secd sech sec sind tand 

Compilation:
============

* libmatio is now detected thanks to pkg-config

* More warnings in C/C++/Fortran during the compilation process.
See http://lists.scilab.org/cgi-bin/ezmlm-browse?list=dev&cmd=showmsg&msgnum=684

* --enable-build-help is now the default behaviour (--disable-build-help removes the check of the dependencies)

* interpolation, signal_processing, statistics modules are loaded dynamically by scilab.

* cc and cc-* are not longer consider as GNU C compiler when detecting the compiler (use gcc & gcc-*) because it was causing some issues under Solaris

* By default, under Linux/Unix/Macosx, static libraries are no longer built.

Enhancement:
============

* Update of some output strings (standard, warning & error)

* Update of the example in the dynamic_link modules and in the toolbox skeleton (use the actual filename instead of the .o)

* Scilab uses Atlas 3.9.4 on Windows

* test_run() now accepts absolute paths as first input argument. It permits toolboxes to use this system.

* Directive FRENCH IMPOSED added to test_run() to force the test in french

* New function dae (for Differential Algebraic Equations) added.
This function is providing the same features as dassl with ode (ordinary differential equations) profile.
For more information, see SEP #2.

* Request 564 : completion add '\' or '/' at the end of a directory

* Errors occuring when getting or setting graphic/gui handles properties are now teated as any other Scilab errors.

* Now catch the exception when JOGL is crashing because native library gluegen-rt is not available in the java.library.path (LD_LIBRARY_PATH) and display a nice message

* Better error report in the documentation build process (docbook)

Internationalization:
=====================

* Almost all the i/o functions (isdir, mkdir, cd, chdir, mopen, fileinfo, 
mclose, deletefile, findfiles, ls, listfiles, getshortpathname, 
getlongpathname, removedir...) now handle file and directory names containing
UTF-8 characters. This is the work of Yung-Jang Lee. Many thanks!
(Unitary tests provided) 


Bug fixes:
==========

* Side effect in the setenvc function.

* In the binary, the path to the fortran include directory was wrong.

* bug 3080 fixed - When we click many times on a button of the Graphic window the instruction will be done as much times we have clicked.

* bug 3500 fixed - [pcre] match position but no character = no match

* bug 3462 fixed - The match string returned by regexp is not the right one if the subject string contains backslashes.

* bug 3131 fixed - version 'GLIBC_2.4' not found with the binary version under some GNU/Linux distro

* bug 3314 fixed - linspace primitive - rev 27707 - removed use of "ones" and use colon (i.e. :) operator only

* bug 3322 fixed - trimmean primitive - rev 27627 - Added verbose option, added unit tests, updated doc.

* bug 3411 fixed - eye on a sparse is not explicit

* bug 3512 fixed - regexp could return incorrect results

* bug 3530 fixed - Check that X11/Xlib.h is available since the Tk header needs it

* bug 3546 fixed - frmag is broken when called with hn given by a vector of coefficients instead of a polynomial.

* bug 3549 fixed - machine.h was including PATH_MAX.h, BOOL.h and PARAMS.h, includes have been cleaned up.

* bug in the script in charge of the dispatch of localization files fixed (tools/localization/dispatchLocalizationFile.sh)

* bug 3559 fixed - paths in examples.bat in SCI/modules/javasci/examples were wrong

* bug 3556 fixed - derivative was not supporting non compiled functions

* bug 3565 fixed - bad detection of the IBM JDK

* bug 3624 fixed - Nan returned when multiplying large zero vector by its transpose.

* bug 3628 fixed - Problem with cdouble type arguments in intersci.

* bug 3630 fixed - functions added by 'addinter' are not visible by 'what'

* bug 3661 fixed - cotg and coth do not work.

* bug 3624, 3640 fixed - Atlas 3.8.0 have a bug causing wrong answer for row-major gemm C=A*A' or A'A 

* bug 3673 fixed - When using Scilab embedded in a Java application through javasci, the first call to javasci API reset the look and feel of the Java application.

* bug 3070 fixed - Could not use non-simple character like °, µ, ø ....

* bug 3554 fixed - 'findobj' function does not find figures nor sub-menus and the help example does not work.

* bug 3590 fixed - Error message when we want to see a figure which has as userdata a structure (struct).

* bug 3645 fixed - SCI/contrib/toolbox_skeleton package does not work out of the box, and crashes on help

* bug 2647 fixed - Bad display of some numbers in special cases due to a gfortran bug

* bug 3702 fixed - When I start scilex.exe (Windows) in a windows console, the windows lost the focus.

* bug 3700 fixed - Problem when displaying accents in the help browser using the fr language. (Windows)

* bug 3681 fixed - Disable automatic completion if there are only spaces in a line

* bug 3571 fixed - Only one message displayed when log(0) is computed with ieee(1) mode.

* bug 2273 fixed - chdir didn't manage UNC path on Windows.

* bug 3626 fixed - lcc-win32 library (.lib) not correctly generated.

* bug 3089 fixed - chdir seems to have problems with directory names containing nordic characters like æ ø and å.

* bug 3714 fixed - fprintfMat and fscanfMat cannot cope with directories with accented characters

* bug 3635 fixed - popupmenu objects created using uicontrol does not work as expected (it is not possible to use the arrow keys on the keyboard to browse through the various options)

* bug 3561 fixed - 'call' crashs when we want to return a 'c' variable type.

* bug 3769 fixed - Dynamic link doesn't detect intel fortran compiler version 11 on Windows

* bug 3745 fixed - "make install" now install all <module>/demos/ and <module>/examples

* bug 3775 fixed - get_absolute_file_path(input_file) returns a error if input_file is not opened in scilab.

* bug 1926 fixed - wavwrite doesn't manage single channel mode.

* bug 3687 fixed - 'format' doesn't check inputs arguments.

* bug 3757 fixed - completion works better on nw mode on Windows

* bug 3697 fixed - setdefaultlanguage moved in localization module. (Windows) 

* bug 2959 fixed - functions on F1, F2, F12 keys are not mapped as scilab 4.x

* bug 3652 fixed - wrong computation of generalized eigenvalues

* bug 2453, 3731, 3759, 3784, 3801 & 3802 fixed -  Force all the numerical value to remain to the english notation.

* bug 3767, 3827 fixed (windows) - Atlas 3.8.2 crashs scilab

* bug 3800 fixed - After using surf to plot giving a stacksize error, it is no longer possible to plot in the same window.

* bug 3822 fixed - When a figure handle is saved and reloaded the figure_size as well as the viewport properties are not saved nor restored.

* bug 3844 fixed - Axes with a very high y-bounds/x-bounds ratio do not appear.

* bug 3873 fixed - While editing ticks'label on Axes, mouse click outside box or double clicks or using Tab key, program terminates.

* bug 3578 fixed - the definition of NewSparse and FreeSparse have been added.

* bug 3887 fixed - missing installation of scisparse.h and doublecomplex.h

* bug 3891 fixed - strsubst() replaces wrong characters with the regexp mode and when the subject contains backslahes. 

* bug 3892 fixed - example about mfprintf added in help

* bug 3894 fixed - missing info. about status -2 returned by mkdir

* bug 3895 fixed - example about mputl added in help

* bug 3897 fixed - macros perturbs the behavior of mfprintf().

* bug 3898 fixed - There was no way to check if mputl() has done his job.

* bug 3898 fixed - The help for "startup" was incorrect.

* bug 3906 fixed - debug(4);exit kills scilab

* bug 3907 fixed - msprintf with a incorrect format can kill scilab.

* bug 3627 fixed - variance did not manage complex matrices of data

* bug 3903 fixed - "xdel" of a non existent window crashes Scilab

* bug 3905 fixed - fscanf supports filename and file descriptor as in scilab 4.x

* bug 3912 fixed - strsubst() used with regular expression may return very stange result.

* bug 3919 fixed - scilab x64 doesn't display graphics from a remote desktop.

* bug 3924 fixed - I used uicontrol with bad parameters, but uicontrol makes scilab hangs.

* bug 3931 fixed - fileparts returns invalid values with some special filenames.

* Docking bugs fixed (problems with menubar, toolbar, infobar updates).

Obsolete functions removed :
============================

* mtlb_load()  (Please use loadmatfile() instead).

* mtlb_save()  (Please use savematfile() instead).

* xbasimp() (Please use toprint() for printing and by xs2ps() for the file export instead).

* xg2ps() (Please use xs2ps() instead).

* hidetoolbar() (Please use toolbar(,'off') instead).

* browsehelp() (Please use helpbrowser() instead).

* quapro() (Please use qpsolve() instead).

* %sp_eye() (Please use speye() instead).

* TCL_gcf() (Please use gcf() instead).

* TCL_scf() (Please use scf() instead).

* TK_EvalStr() (Please use TCL_EvalStr() instead).

* TK_GetVar() (Please use TCL_GetVar() instead).

* TK_SetVar() (Please use TCL_SetVar() instead).

* sciGUIhelp() (Please use help() instead).

* demoplay() (Please use scilab_demos() instead).

* buttondialog() (Please use messagebox() instead).

* tk_getvalue() (Please use getvalue() instead).
